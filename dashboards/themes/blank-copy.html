<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Panel Playground</title>
  <link rel="stylesheet" href="./style.css">
  <style>
@import url('https://fonts.googleapis.com/css2?family=Lobster&display=swap');
</style>

</head>
<body>
<!-- partial:index.partial.html -->
<div class="dashboard">

	<div class="profile">
		
		

	</div>

	<div class="schedule-table">
		<h2>4 Letter Words Starting With E</h2>
		<div class="table-wrap"><br>
    
    <p>Try to guess as many four-letter words starting with 'E' as you can!</p>
    <input type="text" id="word-input" placeholder="Type your guess..." autofocus>
    <button class="search" onclick="checkWord()">SUBMIT</button>    
    <div id="counter">Correct Words: 0 / 0</div> 
     <div id="progress-container">
        <canvas id="progress-canvas" width="150" height="150"></canvas>
    </div>
    <ul id="correct-words"></ul>

    <script>
        // Ensure all words in the wordList are lowercase
        const wordList = ["EACH",
"EARL",
"EARN",
"EARS",
"EASE",
"EAST",
"EASY",
"EATH",
"EATS",
"EAUX",
"EAVE",
"EBBS",
"EBON",
"ECHE",
"ECHO",
"ECHT",
"ECOS",
"ECRU",
"ECUS",
"EDDO",
"EDDY",
"EDGE",
"EDGY",
"EDHS",
"EDIT",
"EEEW",
"EELS",
"EELY",
"EERY",
"EFFS",
"EFTS",
"EGAD",
"EGAL",
"EGER",
"EGGS",
"EGGY",
"EGIS",
"EGOS",
"EIDE",
"EKED",
"EKES",
"EKKA",
"ELAN",
"ELDS",
"ELHI",
"ELKS",
"ELLS",
"ELMS",
"ELMY",
"ELSE",
"EMES",
"EMEU",
"EMIC",
"EMIR",
"EMIT",
"EMMY",
"EMOS",
"EMUS",
"EMYD",
"ENDS",
"ENGS",
"ENOL",
"ENOW",
"ENUF",
"ENVY",
"EONS",
"EPEE",
"EPHA",
"EPIC",
"EPOS",
"ERAS",
"ERGO",
"ERGS",
"ERNE",
"ERNS",
"EROS",
"ERRS",
"ERST",
"ERUV",
"ESES",
"ESNE",
"ESPY",
"ESSE",
"ESTS",
"ETAS",
"ETCH",
"ETHS",
"ETIC",
"ETNA",
"ETUI",
"EURO",
"EVEN",
"EVER",
"EVES",
"EVIL",
"EWER",
"EWES",
"EXAM",
"EXEC",
"EXED",
"EXES",
"EXIT",
"EXON",
"EXPO",
"EYAS",
"EYED",
"EYEN",
"EYER",
"EYES",
"EYNE",
"EYRA",
"EYRE",
"EYRY"].map(word => word.toLowerCase()); // Add all 113 words here
        const correctGuesses = [];
        const totalWords = wordList.length;

        function updateCounter() {
            const correctCount = correctGuesses.length;
            document.getElementById("counter").textContent = `Correct Words: ${correctCount} / ${totalWords}`;
            updateCanvas(correctCount / totalWords * 100);
        }

        function checkWord() {
            const input = document.getElementById("word-input").value.trim().toLowerCase();

            if (wordList.includes(input) && !correctGuesses.includes(input)) {
                correctGuesses.push(input);
                document.getElementById("correct-words").innerHTML += `<li>${input}</li>`;
                updateCounter();
            }
            document.getElementById("word-input").value = '';
        }

        document.getElementById("word-input").addEventListener("keyup", function(event) {
            if (event.key === "Enter") {
                checkWord();
            }
        });

        function updateCanvas(percentage) {
            const canvas = document.getElementById("progress-canvas");
            const ctx = canvas.getContext("2d");
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = 60;

            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw background circle
            ctx.beginPath();
            ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI);
            ctx.fillStyle = "#f3f3f3";
            ctx.fill();

            // Draw progress arc
            const endAngle = (percentage / 100) * 2 * Math.PI;
            ctx.beginPath();
            ctx.arc(centerX, centerY, radius, -Math.PI / 2, -Math.PI / 2 + endAngle);
            ctx.lineWidth = 15;
            ctx.strokeStyle = "#4caf50";
            ctx.stroke();

            // Draw text
            ctx.font = "18px Arial";
            ctx.fillStyle = "#333";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText(`${Math.round(percentage)}%`, centerX, centerY);
        }

        updateCounter();
    </script>
			 <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title></title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>

</head>
<body>
  

<br>

</body>
		</div>
	</div>

	<div class="exercise-table">
		<h2>QR Code Generator</h2>
		<div class="table-wrap"> <input type="text" id="qr-text" placeholder="Enter text or URL" /><br><br>
  <button id="generate-btn" class="search">GENERATE</button><br><br><br>
  <button id="download-btn" disabled>DOWNLOAD</button>
<br><br>
  <canvas id="qr-code"></canvas>
  
  <script type="text/javascript">
  document.getElementById('generate-btn').addEventListener('click', () => {
  const qrText = document.getElementById('qr-text').value;

  if (qrText.trim() === '') {
    alert('Please enter text or a URL!');
    return;
  }

  const qr = new QRious({
    element: document.getElementById('qr-code'),
    value: qrText,
    size: 200, // QR code size in pixels
  });

  // Enable the download button
  const downloadBtn = document.getElementById('download-btn');
  downloadBtn.disabled = false;

  // Add click event for downloading the QR code
  downloadBtn.addEventListener('click', () => {
    const canvas = document.getElementById('qr-code');
    const dataURL = canvas.toDataURL('image/png');
    const link = document.createElement('a');
    link.href = dataURL;
    link.download = 'qr-code.png';
    link.click();
  });
});
  
  </script>
			
            
            <h1></h1>
    <p></p>
    

   
		</div>
	</div>

	<div class="calories"><script type="text/javascript">
$(document).ready(function() {
    $('#searchForm').submit(function(event) {
        console.log('Form submitted'); // Check if this message appears in the console
        event.preventDefault();

        var word = $('#searchWord').val();
        var uid = '12902'; // Your user ID
        var tokenid = 'wftVAapX8A2VkZ8E'; // Your API token
        var apiUrl = 'https://www.stands4.com/services/v2/syno.php';

        $.ajax({
            url: apiUrl,
            type: 'GET',
            data: {
                uid: uid,
                tokenid: tokenid,
                word: word,
                format: 'xml'
            },
            success: function(data) {
                console.log('API response:', data); // Check API response in console
                var synonyms = $(data).find('synonyms').text();
                $('#synonymsResult').html('<strong>Synonyms:</strong> ' + synonyms);
            },
            error: function(xhr, status, error) {
                console.error('Error fetching synonyms:', error);
                $('#synonymsResult').html('<div class="error">Error fetching synonyms. Please try again.</div>');
            }
        });
    });
});




</script><h2>THESAURUS</h2><div class="table-wrap">
		<form id="searchForm">
    <label for="searchWord"></label>
    <input type="text" id="searchWord" name="word" placeholder="Enter a word">
    <button class="lookup" type="submit">SEARCH</button><br>
</form>
<div id="synonymsResult"></div>
</div>
		
	</div>

	<div class="personal-bests">
		<h2>AUDIO RECORDER</h2><div class="table-wrap">
        
         <div class="controls">
    <button id="startButton" class="record">RECORD</button>
    <button id="stopButton" class="record" disabled>STOP</button>
  </div>

  <div id="status" aria-live="polite"></div>

  <audio id="audioPlayback" controls></audio><br>
  <a id="downloadButton" class="search" download="voice-memo.webm">DOWNLOAD</a><br>

  <script>
    const startButton = document.getElementById("startButton");
    const stopButton = document.getElementById("stopButton");
    const audioPlayback = document.getElementById("audioPlayback");
    const downloadButton = document.getElementById("downloadButton");
    const statusEl = document.getElementById("status");

    let mediaRecorder;
    let audioChunks = [];
    let stream;
    let chosenMimeType = null;

    function pickMimeType() {
      if (!window.MediaRecorder) return null;
      const prefs = [
        "audio/webm;codecs=opus",
        "audio/webm",
        "audio/ogg;codecs=opus",
        "audio/ogg",
        "audio/mp4" // Safari (iOS 14+)
      ];
      for (const t of prefs) {
        if (MediaRecorder.isTypeSupported && MediaRecorder.isTypeSupported(t)) return t;
      }
      return null; // Let the browser choose default
    }

    function updateStatus(msg) { statusEl.textContent = msg || ""; }

    function setUIRecordingState(isRecording) {
      startButton.disabled = isRecording;
      stopButton.disabled = !isRecording;
      if (isRecording) {
        downloadButton.style.display = "none";
        updateStatus("Recording… press STOP when you’re done.");
      } else {
        updateStatus("");
      }
    }

    async function startRecording() {
      if (!navigator.mediaDevices?.getUserMedia) {
        alert("getUserMedia is not supported in this browser.");
        return;
      }

      // Secure context check
      if (location.protocol !== "https:" && location.hostname !== "localhost") {
        updateStatus("Tip: Recording requires HTTPS (or http://localhost).");
      }

      try {
        stream = await navigator.mediaDevices.getUserMedia({
          audio: {
            echoCancellation: true,
            noiseSuppression: true,
          }
        });

        chosenMimeType = pickMimeType();
        mediaRecorder = chosenMimeType
          ? new MediaRecorder(stream, { mimeType: chosenMimeType })
          : new MediaRecorder(stream);

        audioChunks = [];

        mediaRecorder.addEventListener("dataavailable", (event) => {
          if (event.data && event.data.size > 0) audioChunks.push(event.data);
        });

        mediaRecorder.addEventListener("stop", () => {
          const type = chosenMimeType || "audio/webm";
          const audioBlob = new Blob(audioChunks, { type });

          const audioURL = URL.createObjectURL(audioBlob);
          audioPlayback.src = audioURL;

          // File extension based on mime
          const ext = type.includes("ogg") ? "ogg"
                    : type.includes("mp4") ? "m4a"
                    : "webm";
          downloadButton.download = `voice-memo.${ext}`;
          downloadButton.href = audioURL;
          downloadButton.style.display = "inline-block";

          // Release mic
          if (stream) {
            stream.getTracks().forEach(t => t.stop());
            stream = null;
          }

          setUIRecordingState(false);
          updateStatus("Recording ready. You can play or download it.");
        });

        mediaRecorder.start(); // you can pass a timeslice (ms) if you want periodic dataavailable
        setUIRecordingState(true);

      } catch (error) {
        console.error("Microphone access error:", error);
        alert("Could not access your microphone. Please check site permissions and that you’re on HTTPS (or localhost).");
        setUIRecordingState(false);
      }
    }

    function stopRecording() {
      try {
        if (mediaRecorder && mediaRecorder.state === "recording") {
          mediaRecorder.stop();
          updateStatus("Finishing up…");
        } else {
          updateStatus("No active recording to stop.");
        }
      } catch (e) {
        console.error("Stop error:", e);
        updateStatus("Couldn’t stop recording. See console for details.");
      }
    }

    startButton.addEventListener("click", startRecording);
    stopButton.addEventListener("click", stopRecording);
  </script>
		 
    

  </div>
<div id="word-list-container">
  
  
  
</div>


  <!-- Include JavaScript here -->
  
</body>

	</div>

	<div class="challenges">
		<h2>MOVIE SEARCH</h2><div class="table-wrap">
		
		<input type="text" id="movieTitle" placeholder="Enter movie title">
    <button id="search" onclick="fetchMovie()">SEARCH</button><br><br>
    <div id="movieData" class="movie-container"></div>

    <script>
        async function fetchMovie() {
            const title = document.getElementById('movieTitle').value;
            if (!title) return alert("Please enter a movie title");

            const response = await fetch(`https://www.omdbapi.com/?t=${encodeURIComponent(title)}&apikey=590fd9e9`);
            const data = await response.json();

            if (data.Response === "False") {
                document.getElementById('movieData').innerHTML = `<p>Movie not found.</p>`;
                return;
            }

            document.getElementById('movieData').innerHTML = `
                <img src="${data.Poster}" alt="${data.Title}">
                <h2>${data.Title} (${data.Year})</h2>
                <p><strong>Genre:</strong> ${data.Genre}</p>
                <p><strong>Director:</strong> ${data.Director}</p>
                <p><strong>Plot:</strong> ${data.Plot}</p>
                <p><strong>IMDB Rating:</strong> ${data.imdbRating}</p>
            `;
        }
    </script>
</div>

	</div>

	<div class="activity-feed">
		<h2>Quote Image Generator</h2><div class="table-wrap">
		
		<div class="controls">
    <label>Gradient Start Color: <input type="color" id="startColor" value="#00e0f2" /></label>
    <label>Gradient End Color: <input type="color" id="endColor" value="#1E90FF" /></label>
    <label>Font Color: <input type="color" id="fontColor" value="#ffffff" /></label>
    <label>Font: 
      <select id="font">
        <option value="Lobster">Lobster</option>
        <option value="Oswald">Oswald</option>
        <option value="Fjalla One">Fjalla One</option>
        <option value="Bebas Neue">Bebas Neue</option>
        <option value="Sofia">Sofia</option>
      </select>
    </label>
    <label>Quote Text: <input type="text" id="quoteText" placeholder="Enter your quote" /></label>
    <button id="generate" class="search">GENERATE</button>
    <button id="save" class="search">DOWNLOAD</button>
  </div>

  <canvas id="canvas" width="600" height="400"></canvas>

 <script>
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');

const startColor = document.getElementById('startColor');
const endColor = document.getElementById('endColor');
const fontColor = document.getElementById('fontColor');
const font = document.getElementById('font');
const quoteText = document.getElementById('quoteText');
const generate = document.getElementById('generate');
const save = document.getElementById('save');

function wrapText(context, text, x, y, maxWidth, lineHeight) {
  const words = text.split(' ');
  let line = '';

  for (let i = 0; i < words.length; i++) {
    const testLine = line + words[i] + ' ';
    const metrics = context.measureText(testLine);
    const testWidth = metrics.width;
    if (testWidth > maxWidth && i > 0) {
      context.fillText(line, x, y);
      line = words[i] + ' ';
      y += lineHeight;
    } else {
      line = testLine;
    }
  }
  context.fillText(line, x, y);
}

function drawCanvas() {
  const text = quoteText.value || "Your Quote Here";

  // Wrap font in quotes to handle multi-word names
  const selectedFont = `"${font.value}"`;

  // Wait for the font to load before drawing
  document.fonts.load(`40px ${selectedFont}`).then(() => {
    // Draw gradient background
    const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
    gradient.addColorStop(0, startColor.value);
    gradient.addColorStop(1, endColor.value);
    ctx.fillStyle = gradient;
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    // Draw text
    ctx.fillStyle = fontColor.value;
    ctx.font = `40px ${selectedFont}`;
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    const maxWidth = canvas.width - 40;
    const lineHeight = 50;
    wrapText(ctx, text, canvas.width / 2, canvas.height / 2 - 20, maxWidth, lineHeight);
  });
}

generate.addEventListener('click', drawCanvas);

save.addEventListener('click', () => {
  const link = document.createElement('a');
  link.download = 'quote-graphic.png';
  link.href = canvas.toDataURL('image/png');
  link.click();
});

// Initial draw after all fonts are ready
document.fonts.ready.then(() => {
  drawCanvas();
});
</script>
	  
	</div>

</div>
<!-- partial -->
  <script  src="./script.js"></script>

</body>
</html>
